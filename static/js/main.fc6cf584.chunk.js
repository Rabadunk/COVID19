(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{103:function(t,e,o){t.exports=o(226)},112:function(t,e,o){},113:function(t,e,o){},114:function(t,e,o){},116:function(t,e,o){},224:function(t,e,o){},226:function(t,e,o){"use strict";o.r(e);var a=o(1),n=o.n(a),i=o(31),s=o.n(i);o(108),o(109),o(92),o(112);var r=o(33),c=(o(113),o(230)),_=o(100);function l(t){let{locations:e,show:o}=t;const i={latitude:-41.51128245580759,longitude:172.72407079826075,width:"100vw",height:"100vh",zoom:5.2839,transitionInterpolator:new r.a({speed:1}),transitionDuration:"auto"},[s,l]=Object(a.useState)(i),d=Object(a.useRef)(),E=e.map(t=>({type:"Feature",properties:{cluser:!1,placeId:t.DHB,count:t.Total},geometry:{type:"Point",coordinates:[t.Longitude,t.Latitude]}})),S=d.current?d.current.getMap().getBounds().toArray().flat():null;d.current&&d.current.getMap().getZoom();console.log(S,s.zoom);const{clusters:u,supercluster:O}=Object(_.a)({points:E,zoom:s.zoom,bounds:S,options:{radius:30,maxZoom:12}});return n.a.createElement(r.c,Object.assign({},s,{mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAP_KEY,mapStyle:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAP_STYLE,onViewportChange:t=>{l(t)},maxZoom:12,minZoom:4,ref:d}),u.map(t=>{const[e,o]=t.geometry.coordinates,{cluster:a}=t.properties;if(a){let a=(t=>{let e=0;return O.getLeaves(t.id).forEach(t=>{e+=t.properties.count}),e})(t),i=30+a/E.length;return n.a.createElement(r.b,{key:t.id,latitude:o,longitude:e,offsetLeft:-1*i/2,offsetTop:-1*i/2},n.a.createElement(c.a,{variant:"warning",className:"Case-Marker",style:{width:"".concat(i,"px"),height:"".concat(i,"px")},onClick:()=>{const a=Math.min(O.getClusterExpansionZoom(t.id),12);l({...s,latitude:o,longitude:e,zoom:a,transitionInterpolator:new r.a({speed:1}),transitionDuration:"auto"})}},a))}let i=30+t.properties.count/E.length*2;return n.a.createElement(r.b,{key:t.properties.placeId,latitude:o,longitude:e,offsetLeft:-1*i/2,offsetTop:-1*i/2},n.a.createElement(c.a,{variant:"warning",className:"Case-Marker",style:{width:"".concat(i,"px"),height:"".concat(i,"px")},onClick:()=>{l({...s,latitude:o,longitude:e,zoom:12,transitionInterpolator:new r.a({speed:1}),transitionDuration:"auto"})}},t.properties.count))}))}o(236),o(231),o(16),o(114);o(96),o(116);o(76),o(237),o(232),o(28);o(97);o(233),o(98),o(101),o(235);n.a.Component;var d=o(73),E=o.n(d);const S={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MESSAGE_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_FIREBASE_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/COVID19",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MEASUREMENT_ID};E.a.initializeApp(S);var u=E.a,O=(o(223),o(224),o(234)),T=o(99),C=o.n(T);class p extends n.a.Component{constructor(t){super(t),this.state={Locations:null,Cases:null,Totals:null,Dates:null,visible:!1}}componentDidMount(){u.database().ref("Locations").once("value").then(t=>{this.setState({Locations:t.val()})});u.database().ref("Cases").once("value").then(t=>{this.setState({Cases:t.val()})});u.database().ref("Totals").once("value").then(t=>{this.setState({Totals:t.val()[0]})});u.database().ref("Dates").once("value").then(t=>{this.setState({Dates:t.val()})})}show(){this.setState({visible:!0})}hide(){this.setState({visible:!1})}render(){let t=null!=this.state.Locations&&(null!=this.state.Cases&&(null!=this.state.Totals&&null!=this.state.Dates))?n.a.createElement(C.a,{transitionDuration:1e3},n.a.createElement("div",{className:"Map"},n.a.createElement(l,{locations:this.state.Locations,show:this.show.bind(this)}))):n.a.createElement(O.a,{animation:"border",variant:"warning",className:"Loading",size:"bg"});return n.a.createElement("div",{className:"App"},t)}}var D=p;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()}).catch(t=>{console.error(t.message)})},76:function(t,e,o){},92:function(t,e,o){t.exports=o.p+"static/media/Title.23336c2c.png"}},[[103,1,2]]]);
//# sourceMappingURL=main.fc6cf584.chunk.js.map