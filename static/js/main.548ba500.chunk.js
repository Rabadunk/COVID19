(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{101:function(e,a,t){e.exports=t.p+"static/media/Title.23336c2c.png"},118:function(e,a,t){e.exports=t(237)},126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},130:function(e,a,t){},235:function(e,a,t){},237:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(52),s=t.n(r),c=(t(123),t(23)),o=t(24),i=t(62),m=t(63),u=t(100),d=t(101),E=t.n(d);t(126);var p=function(){return l.a.createElement("div",{className:"Title"},l.a.createElement("h1",null,l.a.createElement("img",{src:E.a,alt:"COVID-19 VISUALISER"})))},v=t(81),f=t(33),h=t(35),b=(t(127),t(105)),g=t(14),C=t(104),y=t(239),N=t(115);function w(e){var a=e.locations,t=e.show,r={latitude:-41.51128245580759,longitude:172.72407079826075,width:"100%",height:"100%",zoom:4.418,transitionInterpolator:new h.a({speed:1}),transitionDuration:"auto"},s=Object(n.useState)(r),c=Object(f.a)(s,2),o=c[0],i=c[1],m=Object(n.useRef)(),u=a.map((function(e){return{type:"Feature",properties:{cluser:!1,placeId:e.DHB,count:e.Total},geometry:{type:"Point",coordinates:[e.Longitude,e.Latitude]}}})),d=m.current?m.current.getMap().getBounds().toArray().flat():null,E=Object(N.a)({points:u,zoom:o.zoom,bounds:d,options:{radius:30,maxZoom:12}}),p=E.clusters,w=E.supercluster;return l.a.createElement(h.c,Object.assign({},o,{mapboxApiAccessToken:"pk.eyJ1IjoiaGFsZmFkb3plbiIsImEiOiJjazg3NmxtNGkwbGJvM2drbHdibWdxazR3In0.itqz3lOGA231pJO1bRs0kQ",onViewportChange:function(e){i(e)},maxZoom:12,minZoom:4,ref:m}),l.a.createElement("div",{className:"Actions"},l.a.createElement("a",{href:"https://github.com/Rabadunk/COVID19"},l.a.createElement(y.a,{variant:"warning"},l.a.createElement(g.c,null)," github")),l.a.createElement("a",{href:"./data/cases.json",download:!0},l.a.createElement(y.a,{variant:"warning"},l.a.createElement(g.b,null)," json")),l.a.createElement(y.a,{variant:"warning",onClick:function(){return t()}},l.a.createElement(C.a,null)," stats"),l.a.createElement(y.a,{variant:"warning",onClick:function(){i(r)}}," ",l.a.createElement(b.a,null)," center")),p.map((function(e){var a=Object(f.a)(e.geometry.coordinates,2),t=a[0],n=a[1];if(e.properties.cluster){var r=function(e){var a=0;return w.getLeaves(e.id).forEach((function(e){a+=e.properties.count})),a}(e),s=30+r/u.length;return l.a.createElement(h.b,{key:e.id,latitude:n,longitude:t,offsetLeft:-1*s/2,offsetTop:-1*s/2},l.a.createElement(y.a,{variant:"warning",className:"Case-Marker",style:{width:"".concat(s,"px"),height:"".concat(s,"px")},onClick:function(){var a=Math.min(w.getClusterExpansionZoom(e.id),12);i(Object(v.a)({},o,{latitude:n,longitude:t,zoom:a,transitionInterpolator:new h.a({speed:1}),transitionDuration:"auto"}))}},r))}var c=30+e.properties.count/u.length*2;return l.a.createElement(h.b,{key:e.properties.placeId,latitude:n,longitude:t,offsetLeft:-1*c/2,offsetTop:-1*c/2},l.a.createElement(y.a,{variant:"warning",className:"Case-Marker",style:{width:"".concat(c,"px"),height:"".concat(c,"px")},onClick:function(){i(Object(v.a)({},o,{latitude:n,longitude:t,zoom:12,transitionInterpolator:new h.a({speed:1}),transitionDuration:"auto"}))}},e.properties.count))})))}var k=t(245),I=t(240),x=(t(128),function(e){var a=e.cases,t=e.location,r=e.total,s=Object(n.useState)(!1),c=Object(f.a)(s,2),o=c[0],i=c[1];return l.a.createElement("div",null,l.a.createElement(k.a,{onClick:function(){return i(!o)},"aria-controls":"example-collapse-text","aria-expanded":o,className:"Location-Card"},t,l.a.createElement(y.a,{variant:"warning",className:"Case-Button"},l.a.createElement(g.h,null)," ",r)),l.a.createElement(I.a,{in:o},l.a.createElement("div",{id:"example-collapse-text",className:"Location-Info"},a.map((function(e){if(e.DHB===t)return l.a.createElement("div",{className:"Piece-Of-Info"},l.a.createElement("p",null,e.Sex," ","Unavailable"===e.Sex?"":"aged "+e.Age," ",l.a.createElement(y.a,{variant:"warning",className:"Button-Wrappers"},"# ",e.Case)),l.a.createElement("p",{className:"Details"},"Yes"==e["International travel"]?"N/A"==e["Last country before return"]?"International transfer":"Arrived to New Zealand from "+e["Last country before return"]:"No"==e["International travel"]?"Community transfer":"Details unclear"))})))))});var D=function(e){var a=e.cases,t=e.locations;return l.a.createElement("div",{className:"Info-Cards"},t.map((function(e){return l.a.createElement(x,{cases:a,location:e.DHB,total:e.Total})})))},L=t(107),T=t.n(L);t(130);var j=function(e){var a=e.totals;return l.a.createElement("div",{className:"Summary"},l.a.createElement("div",{className:"Totals"},l.a.createElement("h4",null,"Confirmed: ",a.Confirmed),l.a.createElement("h4",null,"Probable: ",a.Probable),l.a.createElement("h4",null,"Total: ",l.a.createElement(T.a,{end:a.Total})),l.a.createElement("h4",{className:"Recovered"}," Recovered: ",a.Recovered)),l.a.createElement("div",{className:"Profile"},l.a.createElement("p",null,"This is not an official government website. Data for this website is sourced from ",l.a.createElement("a",{href:"https://www.health.govt.nz/our-work/diseases-and-conditions/covid-19-novel-coronavirus/covid-19-current-cases"},"here"),". For more information, view the official government website: ",l.a.createElement("a",{href:"https://covid19.govt.nz/"},"https://covid19.govt.nz/"),".")))},O=(t(84),t(246)),S=t(241),A=t(31),z=function(e){var a=e.locations,t=a.map((function(e){return e.DHB})),n=a.map((function(e){return e.Total}));console.log(t,n);var r={labels:t,datasets:[{label:"Cases",data:n,backgroundColor:"rgba(253, 219, 83, 0.8)"}]};return l.a.createElement("div",null,l.a.createElement(k.a,{className:"Card "},l.a.createElement("div",{className:"Chart"},l.a.createElement(A.b,{data:r,options:{title:{display:!0,text:"Total cases per DHB"},legend:{display:!1},responsive:!0,maintainAspectRatio:!0}}))))},R=function(e){var a=e.dates,t=a.map((function(e){return e.Date})),n=a.map((function(e){return e.Sum}));console.log(t,n);var r={labels:t,datasets:[{label:"Cases",data:n,backgroundColor:"rgba(253, 219, 83, 0.8)"}]};return l.a.createElement("div",null,l.a.createElement(k.a,{className:"Card ChartCard"},l.a.createElement("div",{className:"Chart"},l.a.createElement(A.c,{data:r,options:{title:{display:!0,text:"Total cases by date"},legend:{display:!1},responsive:!0,maintainAspectRatio:!0}}))))},B=t(109),K=function(e){var a=e.totals;return l.a.createElement("div",{className:"StatSummary"},l.a.createElement("h1",null,"New Zealand is currently at ",l.a.createElement("span",null,"Alert Level 4")),l.a.createElement(k.a,{className:"Card"},l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(B.a,null),a.Confirmed)," confirmed cases"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.d,null),a.Recovered)," people have recovered"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.a,null),a.AlertDays)," days at alert level 4")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.f,null),a.Probable)," probable cases"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.e,null),a.Hospitalised)," people are hospitalised"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.a,null),a.FirstCase)," days since first NZ case")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.h,null),a.Total)," cases in total"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.g,null),a.Dead)," person has passed away"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.a,null),a.FirstCaseChina)," days since first ever case")))))},P=t(242),M=t(110),Z=t(116),F=t(244),H=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={chartData:null},n.labels=n.props.dates.map((function(e){return e.Date})),n.data=n.props.dates.map((function(e){return e.Sum})),n.chartData={labels:n.labels,datasets:[{label:"Cases",data:n.data,backgroundColor:"rgba(253, 219, 83, 0.8)"}]},n.options={responsive:!0,maintainAspectRatio:!0},n}return Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"Chart"},l.a.createElement(A.a,{data:this.chartData,options:this.options}),l.a.createElement(F.a,null,l.a.createElement("div",{key:"default-checkbox",className:"mb-3"},l.a.createElement(F.a.Check,{type:"checkbox",id:"default-checkbox",label:"dates"}),l.a.createElement(F.a.Check,{type:"checkbox",label:"default-checkbox",id:"default-checkbox"})))))}}]),t}(l.a.Component),G=function(e){e.locations,e.totals;var a=e.dates;return l.a.createElement("div",{className:"Custom"},l.a.createElement(S.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},l.a.createElement(P.a,null,l.a.createElement(M.a,{className:"CustomColumn",sm:3},l.a.createElement(k.a,{className:"CardNav"},l.a.createElement(Z.a,{variant:"pills",className:"flex-column"},l.a.createElement(Z.a.Item,null,l.a.createElement(Z.a.Link,{eventKey:"first"},"Bar")),l.a.createElement(Z.a.Item,null,l.a.createElement(Z.a.Link,{eventKey:"second"},"Line")),l.a.createElement(Z.a.Item,null,l.a.createElement(Z.a.Link,{eventKey:"third"},"Pie"))))),l.a.createElement(M.a,{className:"CustomColumn",sm:9},l.a.createElement(k.a,{className:"Card"},l.a.createElement(S.a.Content,null,l.a.createElement(S.a.Pane,{eventKey:"first"},l.a.createElement(H,{dates:a})),l.a.createElement(S.a.Pane,{eventKey:"second"},"hello"),l.a.createElement(S.a.Pane,{eventKey:"third"},"hello")))))))},J=function(e){var a=e.locations,t=e.totals,n=e.dates;return l.a.createElement("div",{className:"Stats"},l.a.createElement(O.a,{defaultActiveKey:"stats",id:"uncontrolled-tab-example"},l.a.createElement(S.a,{eventKey:"stats",title:"Stats",className:"Tab"},l.a.createElement(K,{totals:t}),l.a.createElement(R,{dates:n}),l.a.createElement(z,{locations:a})),l.a.createElement(S.a,{eventKey:"custom",title:"Custom",disabled:!0},l.a.createElement(G,{locations:a,totals:t,dates:n}))))},V=t(79),W=t.n(V);W.a.initializeApp({apiKey:"AIzaSyA4orDN93Xqovmv-I6K4Tj49zq32TdhZAo",authDomain:"covid19-ac41c.firebaseapp.com",databaseURL:"https://covid19-ac41c.firebaseio.com",projectId:"covid19-ac41c",storageBucket:"covid19-ac41c.appspot.com",messagingSenderId:"333817426267",appId:"1:333817426267:web:0c2109637f0c1b3ae76a7e",measurementId:"G-0N9F3FCLTG"});var q=W.a,U=(t(234),t(235),t(243)),Q=t(114),X=t.n(Q),Y=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={Locations:null,Cases:null,Totals:null,Dates:null,visible:!1},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;q.database().ref("Locations").once("value").then((function(a){e.setState({Locations:a.val()})})),q.database().ref("Cases").once("value").then((function(a){e.setState({Cases:a.val()})})),q.database().ref("Totals").once("value").then((function(a){e.setState({Totals:a.val()[0]})})),q.database().ref("Dates").once("value").then((function(a){e.setState({Dates:a.val()})}))}},{key:"show",value:function(){this.setState({visible:!0})}},{key:"hide",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=null!=this.state.Locations&&(null!=this.state.Cases&&(null!=this.state.Totals&&null!=this.state.Dates))?l.a.createElement(X.a,{delay:300},l.a.createElement("div",{className:"Map"},l.a.createElement(w,{locations:this.state.Locations,show:this.show.bind(this)})),l.a.createElement("div",{className:"Info"},l.a.createElement("div",{className:"Info-Profile"},l.a.createElement(p,null),l.a.createElement(j,{totals:this.state.Totals})),l.a.createElement(D,{cases:this.state.Cases,locations:this.state.Locations})),l.a.createElement(u.a,{visible:this.state.visible,onClose:this.hide.bind(this),animation:"slideDown",duration:1e3,customMaskStyles:{backgroundColor:"rgba(0, 0, 0, 0.6)"},width:70,height:80,measure:"%"},l.a.createElement(J,{locations:this.state.Locations,totals:this.state.Totals,dates:this.state.Dates}))):l.a.createElement(U.a,{animation:"border",variant:"warning",className:"Loading",size:"bg"});return l.a.createElement("div",{className:"App"},e)}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,a,t){}},[[118,1,2]]]);
//# sourceMappingURL=main.548ba500.chunk.js.map