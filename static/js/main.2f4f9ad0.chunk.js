(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{109:function(e,a,t){e.exports=t(231)},117:function(e,a,t){},118:function(e,a,t){},119:function(e,a,t){},122:function(e,a,t){},123:function(e,a,t){},229:function(e,a,t){},231:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(49),s=t.n(r),o=(t(114),t(32)),c=t(33),i=t(106),m=t(107),u=t(91),d=t(92),p=t.n(d);t(117);var v=function(){return l.a.createElement("div",{className:"Title"},l.a.createElement("h1",null,l.a.createElement("img",{src:p.a,alt:"COVID-19 VISUALISER"})))},E=t(73),f=t(28),h=t(30),b=(t(118),t(96)),g=t(14),w=t(95),C=t(233),y=t(105);function N(e){var a=e.locations,t=e.show,r={latitude:-41.51128245580759,longitude:172.72407079826075,width:"100%",height:"100%",zoom:4.418,transitionInterpolator:new h.a({speed:1}),transitionDuration:"auto"},s=Object(n.useState)(r),o=Object(f.a)(s,2),c=o[0],i=o[1],m=Object(n.useRef)(),u=a.map((function(e){return{type:"Feature",properties:{cluser:!1,placeId:e.DHB,count:e.Total},geometry:{type:"Point",coordinates:[e.Longitude,e.Latitude]}}})),d=m.current?m.current.getMap().getBounds().toArray().flat():null,p=Object(y.a)({points:u,zoom:c.zoom,bounds:d,options:{radius:30,maxZoom:12}}),v=p.clusters,N=p.supercluster;return l.a.createElement(h.c,Object.assign({},c,{mapboxApiAccessToken:"pk.eyJ1IjoiaGFsZmFkb3plbiIsImEiOiJjazg3NmxtNGkwbGJvM2drbHdibWdxazR3In0.itqz3lOGA231pJO1bRs0kQ",onViewportChange:function(e){i(e)},maxZoom:12,minZoom:4,ref:m}),l.a.createElement("div",{className:"Actions"},l.a.createElement("a",{href:"https://github.com/Rabadunk/COVID19"},l.a.createElement(C.a,{variant:"warning"},l.a.createElement(g.c,null)," github")),l.a.createElement("a",{href:"./data/cases.json",download:!0},l.a.createElement(C.a,{variant:"warning"},l.a.createElement(g.b,null)," json")),l.a.createElement(C.a,{variant:"warning",onClick:function(){return t()}},l.a.createElement(w.a,null)," stats"),l.a.createElement(C.a,{variant:"warning",onClick:function(){i(r)}}," ",l.a.createElement(b.a,null)," center")),v.map((function(e){var a=Object(f.a)(e.geometry.coordinates,2),t=a[0],n=a[1];if(e.properties.cluster){var r=function(e){var a=0;return N.getLeaves(e.id).forEach((function(e){a+=e.properties.count})),a}(e),s=30+r/u.length;return l.a.createElement(h.b,{key:e.id,latitude:n,longitude:t,offsetLeft:-1*s/2,offsetTop:-1*s/2},l.a.createElement(C.a,{variant:"warning",className:"Case-Marker",style:{width:"".concat(s,"px"),height:"".concat(s,"px")},onClick:function(){var a=Math.min(N.getClusterExpansionZoom(e.id),12);i(Object(E.a)({},c,{latitude:n,longitude:t,zoom:a,transitionInterpolator:new h.a({speed:1}),transitionDuration:"auto"}))}},r))}var o=30+e.properties.count/u.length*2;return l.a.createElement(h.b,{key:e.properties.placeId,latitude:n,longitude:t,offsetLeft:-1*o/2,offsetTop:-1*o/2},l.a.createElement(C.a,{variant:"warning",className:"Case-Marker",style:{width:"".concat(o,"px"),height:"".concat(o,"px")},onClick:function(){i(Object(E.a)({},c,{latitude:n,longitude:t,zoom:12,transitionInterpolator:new h.a({speed:1}),transitionDuration:"auto"}))}},e.properties.count))})))}var k=t(238),I=t(234),D=(t(119),function(e){var a=e.cases,t=e.location,r=e.total,s=Object(n.useState)(!1),o=Object(f.a)(s,2),c=o[0],i=o[1];return l.a.createElement("div",null,l.a.createElement(k.a,{onClick:function(){return i(!c)},"aria-controls":"example-collapse-text","aria-expanded":c,className:"Location-Card"},t,l.a.createElement(C.a,{variant:"warning",className:"Case-Button"},l.a.createElement(g.h,null)," ",r)),l.a.createElement(I.a,{in:c},l.a.createElement("div",{id:"example-collapse-text",className:"Location-Info"},a.map((function(e){if(e.DHB===t)return l.a.createElement("div",{className:"Piece-Of-Info"},l.a.createElement("p",null,e.Sex," ","Unavailable"===e.Sex?"":"aged "+e.Age," ",l.a.createElement(C.a,{variant:"warning",className:"Button-Wrappers"},"# ",e.Case)),l.a.createElement("p",{className:"Details"},"Yes"==e["International travel"]?"N/A"==e["Last country before return"]?"International transfer":"Arrived to New Zealand from "+e["Last country before return"]:"No"==e["International travel"]?"Community transfer":"Details unclear"))})))))});var T=function(e){var a=e.cases,t=e.locations;return l.a.createElement("div",{className:"Info-Cards"},t.map((function(e){return l.a.createElement(D,{cases:a,location:e.DHB,total:e.Total})})))},S=t(98),x=t.n(S);t(122);var L=function(e){var a=e.totals;return l.a.createElement("div",{className:"Summary"},l.a.createElement("div",{className:"Totals"},l.a.createElement("h4",null,"Confirmed: ",a.Confirmed),l.a.createElement("h4",null,"Probable: ",a.Probable),l.a.createElement("h4",null,"Total: ",l.a.createElement(x.a,{end:a.Total})),l.a.createElement("h4",{className:"Recovered"}," Recovered: ",a.Recovered)),l.a.createElement("div",{className:"Profile"},l.a.createElement("p",null,"This is not an official government website. Data for this website is sourced from ",l.a.createElement("a",{href:"https://www.health.govt.nz/our-work/diseases-and-conditions/covid-19-novel-coronavirus/covid-19-current-cases"},"here"),". For more information, view the official government website: ",l.a.createElement("a",{href:"https://covid19.govt.nz/"},"https://covid19.govt.nz/"),".")))},j=(t(123),t(237)),O=t(235),A=t(55),z=function(e){var a=e.locations,t=a.map((function(e){return e.DHB})),n=a.map((function(e){return e.Total}));console.log(t,n);var r={labels:t,datasets:[{label:"Cases",data:n,backgroundColor:"rgba(253, 219, 83, 0.8)"}]};return l.a.createElement("div",{className:"Stats"},l.a.createElement(k.a,{className:"Card "},l.a.createElement("div",{className:"Chart"},l.a.createElement(A.a,{data:r,options:{title:{display:!0,text:"Total cases per DHB"},legend:{display:!1},responsive:!0,maintainAspectRatio:!0}}))))},R=function(e){var a=e.dates,t=a.map((function(e){return e.Date})),n=a.map((function(e){return e.Sum}));console.log(t,n);var r={labels:t,datasets:[{label:"Cases",data:n,backgroundColor:"rgba(253, 219, 83, 0.8)"}]};return l.a.createElement("div",{className:"Stats"},l.a.createElement(k.a,{className:"Card ChartCard"},l.a.createElement("div",{className:"Chart"},l.a.createElement(A.b,{data:r,options:{title:{display:!0,text:"Total cases when recorded"},legend:{display:!1},responsive:!0,maintainAspectRatio:!0}}))))},B=t(100),M=function(e){var a=e.totals;return l.a.createElement("div",{className:"StatSummary"},l.a.createElement("h1",null,"New Zealand is currently at ",l.a.createElement("span",null,"Alert Level 4")),l.a.createElement(k.a,{className:"Card"},l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(B.a,null),a.Confirmed)," confirmed cases"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.d,null),a.Recovered)," people have recovered"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.a,null),a.AlertDays)," days at alert level 4")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.f,null),a.Probable)," probable cases"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.e,null),a.Hospitalised)," people are hospitalised"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.a,null),a.FirstCase)," days since first NZ case")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.h,null),a.Total)," cases in total"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.g,null),a.Dead)," person has passed away"),l.a.createElement("td",null,l.a.createElement("span",null,l.a.createElement(g.a,null),a.FirstCaseChina)," days since first ever case")))))},Z=function(e){var a=e.locations,t=e.totals,n=e.dates;return l.a.createElement("div",{className:"Graphs"},l.a.createElement(j.a,{defaultActiveKey:"stats",id:"uncontrolled-tab-example"},l.a.createElement(O.a,{eventKey:"stats",title:"Stats",className:"Tab"},l.a.createElement(M,{totals:t}),l.a.createElement(R,{dates:n}),l.a.createElement(z,{locations:a})),l.a.createElement(O.a,{eventKey:"custom",title:"Custom",disabled:!0},l.a.createElement("h1",null,"Currently in the works"))))},F=t(71),G=t.n(F);G.a.initializeApp({apiKey:"AIzaSyA4orDN93Xqovmv-I6K4Tj49zq32TdhZAo",authDomain:"covid19-ac41c.firebaseapp.com",databaseURL:"https://covid19-ac41c.firebaseio.com",projectId:"covid19-ac41c",storageBucket:"covid19-ac41c.appspot.com",messagingSenderId:"333817426267",appId:"1:333817426267:web:0c2109637f0c1b3ae76a7e",measurementId:"G-0N9F3FCLTG"});var H=G.a,P=(t(228),t(229),t(236)),J=t(104),K=t.n(J),V=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={Locations:null,Cases:null,Totals:null,Dates:null,visible:!1},n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;H.database().ref("Locations").once("value").then((function(a){e.setState({Locations:a.val()})})),H.database().ref("Cases").once("value").then((function(a){e.setState({Cases:a.val()})})),H.database().ref("Totals").once("value").then((function(a){e.setState({Totals:a.val()[0]})})),H.database().ref("Dates").once("value").then((function(a){e.setState({Dates:a.val()})}))}},{key:"show",value:function(){this.setState({visible:!0})}},{key:"hide",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=null!=this.state.Locations&&(null!=this.state.Cases&&(null!=this.state.Totals&&null!=this.state.Dates))?l.a.createElement(K.a,{delay:300},l.a.createElement("div",{className:"Map"},l.a.createElement(N,{locations:this.state.Locations,show:this.show.bind(this)})),l.a.createElement("div",{className:"Info"},l.a.createElement("div",{className:"Info-Profile"},l.a.createElement(v,null),l.a.createElement(L,{totals:this.state.Totals})),l.a.createElement(T,{cases:this.state.Cases,locations:this.state.Locations})),l.a.createElement(u.a,{visible:this.state.visible,onClose:this.hide.bind(this),animation:"slideDown",duration:1e3,customMaskStyles:{backgroundColor:"rgba(0, 0, 0, 0.6)"},width:70,height:80,measure:"%"},l.a.createElement(Z,{locations:this.state.Locations,totals:this.state.Totals,dates:this.state.Dates}))):l.a.createElement(P.a,{animation:"border",variant:"warning",className:"Loading",size:"bg"});return l.a.createElement("div",{className:"App"},e)}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,a,t){e.exports=t.p+"static/media/Title.23336c2c.png"}},[[109,1,2]]]);
//# sourceMappingURL=main.2f4f9ad0.chunk.js.map